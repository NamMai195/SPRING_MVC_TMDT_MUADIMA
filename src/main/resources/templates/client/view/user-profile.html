<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<html lang="vi">

<!-- Mirrored from oh-thuong-mai-dien-tu.mysapo.net/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 09 Jan 2025 04:29:59 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head th:replace="/client/layout/head :: head"></head>
<style>
    body {
        background-color: #f8f9fa;
    }
    .profile-container {
        max-width: 600px;
        margin: auto;
        margin-top: 50px;
    }
    .profile-card {
        padding: 20px;
        border-radius: 10px;
        background: white;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
    }
    .avatar {
        width: 120px;
        height: 120px;
        object-fit: cover;
        border-radius: 50%;
        border: 3px solid #007bff;
    }
</style>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        document.getElementById("imageInput").addEventListener("change", function(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById("avatarPreview").src = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        });
    });
</script>
<body>
<header th:replace="/client/layout/header :: header"></header>
<main class="wrapperMain_content">
    <div class="container profile-container">
        <div class="profile-card">
            <h2 class="mb-3 text-center">Cập nhật thông tin cá nhân</h2>

            <!-- Hiển thị ảnh đại diện -->
            <div class="mb-3 text-center">
                <img id="avatarPreview"
                     th:src="${user != null and user.image != null ? '/uploads/' + user.image : '/assets/img/default-avatar.png'}"
                     alt="Avatar" class="avatar">
            </div>


            <form action="/user/update" method="post" enctype="multipart/form-data">
                <div class="mb-3">
                    <label for="imageInput" class="form-label">Chọn ảnh đại diện:</label>
                    <input type="file" id="imageInput" name="imageFile" class="form-control" accept="image/*">
                </div>

                <div class="mb-3">
                    <label class="form-label">Họ và tên</label>
                    <input type="text" name="name" class="form-control" th:value="${user.name}" required>
                </div>

                <div class="mb-3">
                    <label class="form-label">Email</label>
                    <input type="email" name="email" class="form-control" th:value="${user.email}" required>
                </div>

                <div class="mb-3">
                    <label class="form-label">Địa chỉ</label>
                    <input type="text" name="address" class="form-control" th:value="${user.address}">
                </div>

                <div class="mb-3">
                    <label class="form-label">Số điện thoại</label>
                    <input type="text" name="sdt" class="form-control" th:value="${user.sdt}">
                </div>

                <button type="submit" class="btn btn-primary w-100">Lưu thay đổi</button>
            </form>
        </div>
    </div>
</main>
<footer th:replace="/client/layout/footer :: footer"></footer>
<div class="opacity_menu"></div>
<script src="../bizweb.dktcdn.net/100/479/080/themes/897121/assets/jquery-plugin47e9.js?1735554303306"></script>
<script src="../bizweb.dktcdn.net/100/479/080/themes/897121/assets/swiper-plugin47e9.js?1735554303306"></script>
<script rel="dns-prefetch">

    var bestseler = new Swiper('.slide-bestseller .swiper-container', {
        slidesPerView: 5,
        loop: false,
        grabCursor: true,
        spaceBetween: 0,
        roundLengths: true,
        slideToClickedSlide: false,
        navigation: {
            nextEl: '.slide-bestseller .swiper-button-next',
            prevEl: '.slide-bestseller .swiper-button-prev',
        },
        autoplay: true,
        breakpoints: {
            300: {
                slidesPerView: 2
            },
            500: {
                slidesPerView: 2
            },
            640: {
                slidesPerView: 3
            },
            768: {
                slidesPerView: 3
            },
            992: {
                slidesPerView: 3
            },
            1200: {
                slidesPerView: 4
            },
            1400: {
                slidesPerView: 5
            }
        }
    });
    var proSlide1 = new Swiper('.slide-product-1 .swiper-container', {
        slidesPerView: 6,
        loop: false,
        grabCursor: true,
        spaceBetween: 0,
        roundLengths: true,
        slideToClickedSlide: false,
        slidesPerColumn: 2,
        slidesPerColumnFill: 'row',
        navigation: {
            nextEl: '.slide-product-1 .swiper-button-next',
            prevEl: '.slide-product-1 .swiper-button-prev',
        },
        autoplay: false,
        breakpoints: {
            300: {
                slidesPerView: 2
            },
            500: {
                slidesPerView: 2
            },
            640: {
                slidesPerView: 3
            },
            768: {
                slidesPerView: 3
            },
            992: {
                slidesPerView: 4
            },
            1200: {
                slidesPerView: 6
            }
        }
    });
    var proSlide2 = new Swiper('.slide-product-2 .swiper-container', {
        slidesPerView: 6,
        loop: false,
        grabCursor: true,
        spaceBetween: 0,
        roundLengths: true,
        slideToClickedSlide: false,
        slidesPerColumn: 2,
        slidesPerColumnFill: 'row',
        navigation: {
            nextEl: '.slide-product-2 .swiper-button-next',
            prevEl: '.slide-product-2 .swiper-button-prev',
        },
        autoplay: false,
        breakpoints: {
            300: {
                slidesPerView: 2
            },
            500: {
                slidesPerView: 2
            },
            640: {
                slidesPerView: 3
            },
            768: {
                slidesPerView: 3
            },
            992: {
                slidesPerView: 4
            },
            1200: {
                slidesPerView: 6
            }
        }
    });
</script>
<script src="../bizweb.dktcdn.net/100/479/080/themes/897121/assets/main47e9.js?1735554303306" type="text/javascript"></script>
<script src="../bizweb.dktcdn.net/100/479/080/themes/897121/assets/index47e9.js?1735554303306" type="text/javascript"></script>
<script src="../bizweb.dktcdn.net/100/479/080/themes/897121/assets/wishlist-func47e9.js?1735554303306" defer></script>
<script type="text/javascript" src="../bizweb.dktcdn.net/assets/themes_support/api.jquery.js" ></script>
<script src="../bizweb.dktcdn.net/100/479/080/themes/897121/assets/minicart47e9.js?1735554303306" async></script>
<script src="../bizweb.dktcdn.net/100/479/080/themes/897121/assets/option_selector47e9.js?1735554303306"></script>
<script src="../bizweb.dktcdn.net/100/479/080/themes/897121/assets/notify47e9.js?1735554303306" async></script>
<link href="../bizweb.dktcdn.net/100/479/080/themes/897121/assets/notify.scss47e9.css?1735554303306" rel="stylesheet" type="text/css" media="all" />
<div class="backdrop__body-backdrop___1rvky"></div>

<div class='jas-sale-pop flex pf middle-xs'></div>
<!--<a class="chat-plugin" href="https://m.me/sapo.vn" target="_blank" rel="nofollow" title="Messenger">-->
<!--  <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.75 11.9125C0.75 5.6422 5.66254 1 12 1C18.3375 1 23.25 5.6422 23.25 11.9125C23.25 18.1828 18.3375 22.825 12 22.825C10.8617 22.825 9.76958 22.6746 8.74346 22.3925C8.544 22.3376 8.33188 22.3532 8.1426 22.4368L5.90964 23.4224C5.32554 23.6803 4.66618 23.2648 4.64661 22.6267L4.58535 20.6253C4.57781 20.3789 4.46689 20.1483 4.28312 19.9839C2.09415 18.0264 0.75 15.1923 0.75 11.9125ZM8.54913 9.86084L5.24444 15.1038C4.92731 15.6069 5.54578 16.1739 6.01957 15.8144L9.56934 13.1204C9.80947 12.9381 10.1413 12.9371 10.3824 13.118L13.0109 15.0893C13.7996 15.6809 14.9252 15.4732 15.451 14.6392L18.7556 9.39616C19.0727 8.893 18.4543 8.326 17.9805 8.68555L14.4307 11.3796C14.1906 11.5618 13.8587 11.5628 13.6176 11.3819L10.9892 9.41061C10.2005 8.81909 9.07479 9.02676 8.54913 9.86084Z" fill="white"></path></svg>-->
<!--  <div>Chat</div>-->
<!--</a>-->
<!-- Thêm thư viện SweetAlert2 -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<!-- Hiển thị thông báo thành công hoặc lỗi -->
<script th:if="${success != null}">
    Swal.fire({
        icon: 'success',
        title: 'Thành công!',
        text: 'Cập nhật thông tin thành công!',
        confirmButtonColor: '#3085d6',
        confirmButtonText: 'OK'
    });
</script>

<script th:if="${error != null}">
    Swal.fire({
        icon: 'error',
        title: 'Lỗi!',
        text: 'Lỗi khi cập nhật thông tin!',
        confirmButtonColor: '#d33',
        confirmButtonText: 'Thử lại'
    });
</script>
</body>

</html>